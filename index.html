<!DOCTYPE html>
<html>
<head>
    <script type="module" src="./zephyrcore/zephyr.js"></script>
    <script type="module" src="./zephyrtemplates/ZephyrCore.js"></script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zephyr Showcase</title>
    <link rel="stylesheet" href="./zephyrcss/variables.css">
    <link rel="stylesheet" href="./zephyrcss/zephyr.css">
</head>
<style>
    :root {
        --base-font-size: 16px;
        --contrast-filter: contrast(100%);
        --color-blind-filter: none;
    }

    body {
        font-size: var(--base-font-size);
        filter: var(--contrast-filter) var(--color-blind-filter);
    }

    @media (prefers-reduced-motion: reduce) {
        * {
            animation-duration: 0.01ms !important;
            animation-iteration-count: 1 !important;
            transition-duration: 0.01ms !important;
            scroll-behavior: auto !important;
        }
    }
</style>
<body>
<vision-accessibility-adjuster></vision-accessibility-adjuster>
<zephyr-grid-layout>
    <zephyr-navigation
            type="navbar"
            collapsible="true"
            animation="fade"
            items='[
            {"label": "Home", "href": "/"},
            {"label": "Blog", "href": "/blog"},
            {"label": "About", "href": "/about"},
            {"label": "Contact", "href": "/contact"}
          ]'>
    </zephyr-navigation>

    <h1>Welcome to ZephyrBlog</h1>

    <zephyr-card>
        <div slot="front">
            <h2>Latest Post</h2>
            <p>Check out our most recent blog post!</p>
        </div>
        <div slot="back">
            <h3>How to Use ZephyrJS</h3>
            <p>Click to read more...</p>
        </div>
    </zephyr-card>

    <zephyr-button type="button" value="Subscribe to Newsletter" clicked-text="Subscribed!"></zephyr-button>

    <zephyr-data-table
            id="blogPosts"
            data-type="default"
            pagination="5"
            filtering="true"
            sorting="true"
            data-source="generateMockBlogPosts">
    </zephyr-data-table>

    <zephyr-markdown-renderer sections='[
      {
        "header": "Introduction",
        "content": "This is the introduction to our blog post..."
      },
      {
        "header": "Main Content",
        "content": "Heres the main content of our blog post..."
    },
    {
    "header": "Conclusion",
    "content": "In conclusion..."
    }
    ]'></zephyr-markdown-renderer>

    <zephyr-slide-reveal orientation="horizontal" reveal-percentage="50">
        <img slot="background" src="https://www.shutterstock.com/image-vector/before-red-grunge-rubber-stamp-260nw-2099183326.jpg" alt="Before Image">
        <img slot="foreground" src="https://t3.ftcdn.net/jpg/04/82/11/36/360_F_482113620_cfEynhyY7LMhnoJPo33Y8kNWImZP6MiE.jpg" alt="After Image">
    </zephyr-slide-reveal>

    <h3>Leave a Comment</h3>
    <zephyr-textarea
            label="Your Comment"
            placeholder="Share your thoughts..."
            toolbar="true"
            char-counter
            maxlength="500">
    </zephyr-textarea>
    <zephyr-button type="button" value="Submit Comment"></zephyr-button>

    <zephyr-markdown-showcase sections='[
      {
        "header": "Our Story",
        "content": "ZephyrBlog started as a simple idea..."
      },
      {
        "header": "Our Team",
        "content": "Meet the people behind ZephyrBlog..."
      },
      {
        "header": "Our Mission",
        "content": "We aim to provide the best blogging experience..."
      }
    ]'></zephyr-markdown-showcase>

    <zephyr-form id="contactForm">
        <script type="application/json">
            {
                "steps": [
                    {
                        "fields": [
                            { "type": "text", "name": "name", "label": "Name", "required": true },
                            { "type": "email", "name": "email", "label": "Email", "required": true },
                            { "type": "textarea", "name": "message", "label": "Message", "required": true }
                        ]
                    }
                ],
                "events": {
                    "onSubmit": "handleFormSubmit"
                }
            }
        </script>
    </zephyr-form>

    <zephyr-modal id="newsletterModal" modal-type="info" modal-trigger="click">
        <h2 slot="header">Subscribe to Our Newsletter</h2>
        <zephyr-input type="email" label="Email Address" placeholder="Enter your email"></zephyr-input>
        <zephyr-button type="button" value="Subscribe"></zephyr-button>
    </zephyr-modal>

    <zephyr-toast id="notificationToast" message="New blog post published!" action="Read Now"></zephyr-toast>

    <zephyr-context-menu id="blogPostMenu"></zephyr-context-menu>
</zephyr-grid-layout>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        const blogPostMenu = document.getElementById('blogPostMenu');

        // Add a click event listener to the document to show the context menu
        document.addEventListener('click', (event) => {
            // Check if the clicked element is a blog post item
            if (event.target.closest('.blog-post-item')) {
                event.preventDefault();
                blogPostMenu.show(event.clientX, event.clientY, [
                    { label: 'Share', action: 'share' },
                    { label: 'Save for Later', action: 'save' },
                    { label: 'Report', action: 'report' }
                ]);
            }
        });

        // Handle menu item selection
        blogPostMenu.addEventListener('menuItemSelected', (event) => {
            console.log('Selected action:', event.detail.item.action);
            // Implement the action handling here
        });
    });

    function generateMockBlogPosts() {
        return [
            {
                id: 1,
                title: "Getting Started with ZephyrJS",
                excerpt: "Learn how to build dynamic web components with ZephyrJS...",
                date: "2024-03-15",
                author: "Jane Doe"
            },
            {
                id: 2,
                title: "Creating Responsive Layouts with ZephyrGridLayout",
                excerpt: "Discover the power of adaptive grid layouts in your web applications...",
                date: "2024-03-20",
                author: "John Smith"
            },
            {
                id: 3,
                title: "Enhancing User Experience with ZephyrModal",
                excerpt: "Explore the various ways to use modal dialogs in your web app...",
                date: "2024-03-25",
                author: "Emily Johnson"
            }
        ];
    }
</script>
</body>
</html>